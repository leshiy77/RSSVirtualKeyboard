(()=>{"use strict";function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.elem=document.createElement("button"),this.elem.classList.add("key-button")}var a,n;return a=t,(n=[{key:"setKey",value:function(e){this.elem.classList.add(e.name),this.elem.setAttribute("keyName",e.name),this.elem.setAttribute("type",e.type),"text"===e.type&&(this.elem.setAttribute("shiftName",e.shift),this.elem.setAttribute("lowerName",e.value),this.elem.setAttribute("ru",e.ru),this.elem.setAttribute("rus",e.rus)),"func"===e.type&&this.elem.classList.add("".concat(e.name.toLowerCase(),"-key")),this.elem.innerText=e.value}}])&&e(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(),a=[{name:"Backquote",value:"`",type:"text",shift:"~",ru:"ё",rus:"Ё"},{name:"Digit1",value:"1",type:"text",shift:"!",ru:"1",rus:"!"},{name:"Digit2",value:"2",type:"text",shift:"@",ru:"2",rus:'"'},{name:"Digit3",value:"3",type:"text",shift:"#",ru:"3",rus:"№"},{name:"Digit4",value:"4",type:"text",shift:"$",ru:"4",rus:";"},{name:"Digit5",value:"5",type:"text",shift:"%",ru:"5",rus:"%"},{name:"Digit6",value:"6",type:"text",shift:"^",ru:"6",rus:":"},{name:"Digit7",value:"7",type:"text",shift:"&",ru:"7",rus:"?"},{name:"Digit8",value:"8",type:"text",shift:"*",ru:"8",rus:"*"},{name:"Digit9",value:"9",type:"text",shift:"(",ru:"9",rus:"("},{name:"Digit0",value:"0",type:"text",shift:")",ru:"0",rus:")"},{name:"Minus",value:"-",type:"text",shift:"_",ru:"-",rus:"_"},{name:"Equal",value:"=",type:"text",shift:"+",ru:"=",rus:"+"},{name:"Backspace",value:"Backspace",type:"func",shift:null,ru:null,rus:null}],n=[{name:"Tab",value:"Tab",type:"func",shift:null,ru:null,rus:null},{name:"KeyQ",value:"q",type:"text",shift:"Q",ru:"й",rus:"Й"},{name:"KeyW",value:"w",type:"text",shift:"W",ru:"ц",rus:"Ц"},{name:"KeyE",value:"e",type:"text",shift:"E",ru:"у",rus:"У"},{name:"KeyR",value:"r",type:"text",shift:"R",ru:"к",rus:"К"},{name:"KeyT",value:"t",type:"text",shift:"T",ru:"е",rus:"Е"},{name:"KeyY",value:"y",type:"text",shift:"Y",ru:"н",rus:"Н"},{name:"KeyU",value:"u",type:"text",shift:"U",ru:"г",rus:"Г"},{name:"KeyI",value:"i",type:"text",shift:"I",ru:"ш",rus:"Ш"},{name:"KeyO",value:"o",type:"text",shift:"O",ru:"щ",rus:"Щ"},{name:"KeyP",value:"p",type:"text",shift:"P",ru:"з",rus:"З"},{name:"BracketLeft",value:"[",type:"text",shift:"{",ru:"х",rus:"Х"},{name:"BracketRight",value:"]",type:"text",shift:"}",ru:"ъ",rus:"Ъ"},{name:"Enter",value:"Enter",type:"func",lang:null,shift:null,ru:null,rus:null}],i=[{name:"CapsLock",value:"CapsLock",type:"func",shift:null,ru:null,rus:null},{name:"KeyA",value:"a",type:"text",shift:"A",ru:"ф",rus:"Ф"},{name:"KeyS",value:"s",type:"text",shift:"S",ru:"ы",rus:"Ы"},{name:"KeyD",value:"d",type:"text",shift:"D",ru:"в",rus:"В"},{name:"KeyF",value:"f",type:"text",shift:"F",ru:"а",rus:"А"},{name:"KeyG",value:"g",type:"text",shift:"G",ru:"п",rus:"П"},{name:"KeyH",value:"h",type:"text",shift:"H",ru:"р",rus:"Р"},{name:"KeyJ",value:"j",type:"text",shift:"J",ru:"о",rus:"О"},{name:"KeyK",value:"k",type:"text",shift:"K",ru:"л",rus:"Л"},{name:"KeyL",value:"l",type:"text",shift:"L",ru:"д",rus:"Д"},{name:"Semicolon",value:";",type:"text",shift:":",ru:"ж",rus:"Ж"},{name:"Quote",value:"'",type:"text",shift:'"',ru:"э",rus:"Э"},{name:"Backslash",value:"\\",type:"text",shift:"|",ru:"\\",rus:"/"}],r=[{name:"ShiftLeft",value:"Shift",type:"func",shift:null,ru:null,rus:null},{name:"KeyZ",value:"z",type:"text",shift:"Z",ru:"я",rus:"Я"},{name:"KeyX",value:"x",type:"text",shift:"X",ru:"ч",rus:"Ч"},{name:"KeyC",value:"c",type:"text",shift:"C",ru:"с",rus:"С"},{name:"KeyV",value:"v",type:"text",shift:"V",ru:"м",rus:"М"},{name:"KeyB",value:"b",type:"text",shift:"B",ru:"и",rus:"И"},{name:"KeyN",value:"n",type:"text",shift:"N",ru:"т",rus:"Т"},{name:"KeyM",value:"m",type:"text",shift:"M",ru:"ь",rus:"Ь"},{name:"Comma",value:",",type:"text",shift:"<",ru:"б",rus:"Б"},{name:"Period",value:".",type:"text",shift:">",ru:"ю",rus:"Ю"},{name:"Slash",value:"/",type:"text",shift:"?",ru:".",rus:","},{name:"ArrowUp",value:"",type:"func",shift:null,ru:null,rus:null},{name:"ShiftRight",value:"Shift",type:"func",shift:null,ru:null,rus:null}],l=[{name:"ControlLeft",value:"Ctrl",type:"func",shift:null,ru:null,rus:null},{name:"Delete",value:"Del",type:"func",shift:null,ru:null,rus:null},{name:"AltLeft",value:"Alt",type:"func",shift:null,ru:null,rus:null},{name:"Space",value:"",type:"func",shift:null,ru:null,rus:null},{name:"AltRight",value:"Alt",type:"func",shift:null,ru:null,rus:null},{name:"ControlRight",value:"Ctrl",type:"func",shift:null,ru:null,rus:null},{name:"ArrowLeft",value:"",type:"func",shift:null,ru:null,rus:null},{name:"ArrowDown",value:"",type:"func",shift:null,ru:null,rus:null},{name:"ArrowRight",value:"",type:"func",shift:null,ru:null,rus:null}],u=document.createElement("div");u.classList.add("container"),document.body.appendChild(u);var s=document.createElement("h1");s.classList.add("header-title"),u.appendChild(s),s.innerText="RSS Virtual Keyboard";var c=document.createElement("textarea");c.rows=5,c.cols=50,c.classList.add("textarea"),u.appendChild(c),c.focus(),window.addEventListener("click",(function(){c.focus()}));var o=document.createElement("div");o.classList.add("keyboard"),u.appendChild(o);var f=document.createElement("div");f.classList.add("keyboard-row");for(var y=0;y<5;y++){var v=f.cloneNode();v.classList.add("keyboard-row".concat(y+1)),o.appendChild(v)}var h=document.createElement("h3");h.innerHTML="Клавиатура сделана для Windows. Переключение языка левый alt",u.appendChild(h),document.querySelectorAll(".keyboard-row").forEach((function(e){switch(e.classList.contains("keyboard-row")){case e.classList.contains("keyboard-row1"):for(var u=0;u<14;u++){var s=new t;s.setKey(a[u]),e.appendChild(s.elem)}break;case e.classList.contains("keyboard-row2"):for(var c=0;c<14;c++){var o=new t;o.setKey(n[c]),e.appendChild(o.elem)}break;case e.classList.contains("keyboard-row3"):for(var f=0;f<13;f++){var y=new t;y.setKey(i[f]),e.appendChild(y.elem)}break;case e.classList.contains("keyboard-row4"):for(var v=0;v<13;v++){var h=new t;h.setKey(r[v]),e.appendChild(h.elem)}break;case e.classList.contains("keyboard-row5"):for(var m=0;m<9;m++){var p=new t;p.setKey(l[m]),e.appendChild(p.elem)}}}));var m=document.querySelectorAll(".key-button"),p=document.querySelector(".capslock-key"),d=document.querySelector(".altleft-key"),g=document.querySelector(".controlleft-key"),b=function(e){e.classList.contains("active")?d.classList.contains("active-lang")&&g.classList.contains("active-lang")?m.forEach((function(e){null!==e.getAttribute("ru")&&(e.innerHTML=e.getAttribute("ru"))})):m.forEach((function(e){null!==e.getAttribute("shiftName")&&(e.innerHTML=e.getAttribute("lowerName"))})):d.classList.contains("active-lang")&&g.classList.contains("active-lang")?m.forEach((function(e){null!==e.getAttribute("rus")&&(e.innerHTML=e.getAttribute("rus"))})):m.forEach((function(e){null!==e.getAttribute("shiftName")&&(e.innerHTML=e.getAttribute("shiftName"))}))},A=function(){d.classList.contains("active-lang")&&g.classList.contains("active-lang")?m.forEach((function(e){null!==e.getAttribute("rus")&&(e.innerHTML=e.getAttribute("rus"))})):m.forEach((function(e){null!==e.getAttribute("shiftName")&&(e.innerHTML=e.getAttribute("shiftName"))}))},L=function(){d.classList.contains("active-lang")&&g.classList.contains("active-lang")?m.forEach((function(e){null!==e.getAttribute("ru")&&(e.innerHTML=e.getAttribute("ru"))})):m.forEach((function(e){null!==e.getAttribute("shiftName")&&(e.innerHTML=e.getAttribute("lowerName"))}))},S=function(){m.forEach((function(e){g.classList.contains("active-lang")&&d.classList.contains("active-lang")?p.classList.contains("active")?null!==e.getAttribute("shiftName")&&(e.innerHTML=e.getAttribute("shiftName")):null!==e.getAttribute("lowerName")&&(e.innerHTML=e.getAttribute("lowerName")):p.classList.contains("active")?null!==e.getAttribute("rus")&&(e.innerHTML=e.getAttribute("rus")):null!==e.getAttribute("ru")&&(e.innerHTML=e.getAttribute("ru"))}))},k=c.value.split("");window.addEventListener("keydown",(function(e){e.preventDefault();for(var t=0;t<m.length;t++)e.code===m[t].getAttribute("keyName")&&("CapsLock"===e.code?(b(m[t]),m[t].classList.toggle("active")):"ShiftLeft"===e.code||"ShiftRight"===e.code?(A(),m[t].classList.add("active")):m[t].classList.add("active"));m.forEach((function(t){if(e.code===t.getAttribute("keyName")){if("text"===t.getAttribute("type")){var a=c.selectionStart;k.splice(c.selectionStart,0,t.textContent),c.value=k.join(""),c.selectionEnd=a+1}if("func"===t.getAttribute("type")){if("Space"===t.getAttribute("keyName")){var n=c.selectionStart;k.splice(c.selectionStart,0," "),c.value=k.join(""),c.selectionEnd=n+1}if("Tab"===t.getAttribute("keyName")){for(var i=c.selectionStart,r=0;r<4;r++)k.splice(c.selectionStart,0," ");c.value=k.join(""),c.selectionEnd=i+4}if("Enter"===t.getAttribute("keyName")){var l=c.selectionStart;k.splice(c.selectionStart,0,"\n"),c.value=k.join(""),c.selectionEnd=l+1}if("Backspace"===t.getAttribute("keyName")&&0!==c.selectionStart){var u=c.selectionStart;k.splice(c.selectionStart-1,1),c.value=k.join(""),c.selectionEnd=u-1}if("Delete"===t.getAttribute("keyName")&&c.selectionStart!==c.length){var s=c.selectionStart;k.splice(c.selectionStart,1),c.value=k.join(""),c.selectionEnd=s}if("ArrowUp"===t.getAttribute("keyName")){var o=c.selectionStart;c.selectionEnd=c.value.length-o}if("ArrowDown"===t.getAttribute("keyName")){var f=c.selectionStart;c.selectionStart=c.value.length+f}if("ArrowLeft"===t.getAttribute("keyName")&&0!==c.selectionStart){var y=c.selectionStart;c.selectionEnd=y-1}if("ArrowRight"===t.getAttribute("keyName")&&c.selectionStart!==c.value.length){var v=c.selectionStart;c.selectionStart=v+1}"AltLeft"===t.getAttribute("keyName")&&(S(),d.classList.toggle("active-lang"),g.classList.toggle("active-lang"))}}}))})),window.addEventListener("keyup",(function(e){e.preventDefault();for(var t=0;t<m.length;t++)e.code===m[t].getAttribute("keyName")&&"CapsLock"!==e.code&&("ShiftLeft"!==e.code&&"ShiftRight"!==e.code||L(),m[t].classList.remove("active"))})),m.forEach((function(e){e.addEventListener("mousedown",(function(t){if(1===t.which){if("text"===e.getAttribute("type")){var a=c.selectionStart;k.splice(c.selectionStart,0,e.textContent),c.value=k.join(""),c.selectionEnd=a+1}if("func"===e.getAttribute("type")){if("Space"===e.getAttribute("keyName")){var n=c.selectionStart;k.splice(c.selectionStart,0," "),c.value=k.join(""),c.selectionEnd=n+1}if("Tab"===e.getAttribute("keyName")){for(var i=c.selectionStart,r=0;r<4;r++)k.splice(c.selectionStart,0," ");c.value=k.join(""),c.selectionEnd=i+4}if("Enter"===e.getAttribute("keyName")){var l=c.selectionStart;k.splice(c.selectionStart,0,"\n"),c.value=k.join(""),c.selectionEnd=l+1}if("Backspace"===e.getAttribute("keyName")&&0!==c.selectionStart){var u=c.selectionStart;k.splice(c.selectionStart-1,1).join(""),c.value=k.join(""),c.selectionEnd=u-1}if("Delete"===e.getAttribute("keyName")&&c.selectionStart!==c.length){var s=c.selectionStart;k.splice(c.selectionStart,1).join(""),c.value=k.join(""),c.selectionEnd=s}if("ArrowUp"===e.getAttribute("keyName")){var o=c.selectionStart;c.selectionEnd=c.value.length-o}if("ArrowDown"===e.getAttribute("keyName")){var f=c.selectionStart;c.selectionStart=c.value.length+f}if("ArrowLeft"===e.getAttribute("keyName")&&0!==c.selectionStart){var y=c.selectionStart;c.selectionEnd=y-1}if("ArrowRight"===e.getAttribute("keyName")&&c.selectionStart!==c.value.length){var v=c.selectionStart;c.selectionStart=v+1}"CapsLock"===e.getAttribute("keyName")&&(b(e),e.classList.toggle("active")),"ShiftLeft"!==e.getAttribute("keyName")&&"ShiftRight"!==e.getAttribute("keyName")||A(),"AltLeft"===e.getAttribute("keyName")&&(S(),d.classList.toggle("active-lang"),g.classList.toggle("active-lang"))}}}))})),m.forEach((function(e){e.addEventListener("mouseup",(function(t){1===t.which&&("ShiftLeft"!==e.getAttribute("keyName")&&"ShiftRight"!==e.getAttribute("keyName")||L())}))}))})();
//# sourceMappingURL=main.js.map